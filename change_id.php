<?php
include 'global.php';

//$arrData = array(
//    "ABESENSI PRESENSI",
//"DEMOSI",
//"DEMOSI 1 TINGKAT",
//"Demosi Penurunan Pangkat dan Job Group 1 Tingkat Lebih Rendah",
//"DISIPLIN PEGAWAI",
//"EVALUASI JOB TRAINING",
//"MUTASI DAN DEMOSI",
//"MUTASI KEPEGAWAIAN",
//"NOTA DINAS PENEMPATAN",
//"NOTA DINAS SKORSING",
//"PEMBEBASAN SEMENTARA (SCHORSING)",
//"PEMBERIAN SANKSI DEMOSI",
//"PEMBERIAN SANKSI DEMOSI 1 TINGKAT LEBIH RENDAH",
//"PEMBERIAN SANSKI DEMOSI DAN TGR",
//"PEMBERITAHUAN",
//"PEMBINAAN",
//"PENANGGUHAN KENAIKAN GAJI BERKALA",
//"PENANGGUHAN PENGANGKATAN",
//"PENANGGUHAN PENGANGKATAN PEGAWAI TETAP",
//"PENGEMBALIAN KERUGIAN DANA SETORAN SAMSAT BITUNG",
//"PENGENAAN SANKSI ADMINISTRATIF & TGR",
//"PENGENAAN SANKSI ADMINISTRATIF DAN GANTI RUGI",
//"PENGENAAN SANKSI ADMINISTRATIF DAN TGR",
//"PENGENAAN SANKSI ADMNINISTRATIF DAN TGR",
//"PENUNDAAN KENAIKAN GAJI BERKALA",
//"PENUNDAAN KENAIKAN GAJI BERKALA/PANGKAT",
//"PENUNDAAN KENAIKAN PANGKAT",
//"PENUNDAAN PENGALIHAN PEGAWAI KONTRAK",
//"PENUNDAAN PENGANGKATAN PEGAWAI TETAP",
//"PENURUNAN PANGKAT SETINGKAT",
//"PERINGATAN",
//"PERINGATAN 1",
//"PERINGATAN 2",
//"PERINGATAN I",
//"PERINGATAN I (SP-1)",
//"PERINGATAN II",
//"PERINGATAN KERAS",
//"PERINGATAN MINTA PERHATIAN",
//"PERINGATAN PEMBINAAN",
//"PERINGATAN PERTAMA ",
//"PERINGATAN TERAKHIR ",
//"PERINGATAN TERTULIS",
//"PERNYATAAN TIDAK PUAS",
//"PERPANJANGAN SKORSING",
//"PERPANJANGAN TINDAKAN SEMENTARA NON AKTIF",
//"SANKSI ADMINISTRATIF DAN TGR",
//"SANKSI DEMOSI",
//"SANKSI DEMOSI PENURUNAN PANGKAT",
//"SANKSI DEMOSI PENURUNAN PANGKAT DAN JOB GROUP 2 (DUA) TINGKAT LEBIH RENDAH",
//"SANSKI SKORSING",
//"SKORSING",
//"STATUS NON JOB",
//"SURAT MINTA PERHATIAN",
//"SURAT PANGGILAN",
//"SURAT PANGGILAN KEDUA",
//"SURAT PERIGNATAN I",
//"SURAT PERINGATA I",
//"SURAT PERINGATAN ",
//"SURAT PERINGATAN  I",
//"SURAT PERINGATAN 1",
//"SURAT PERINGATAN 1 + TGR",
//"SURAT PERINGATAN 2",
//"SURAT PERINGATAN 3",
//"SURAT PERINGATAN I",
//"SURAT PERINGATAN II",
//"SURAT PERINGATAN III",
//"SURAT PERINGATAN PERTAMA",
//"SURAT PERINGATN II",
//"SURAT TEGURAN ",
//"SURAT Teguran 1",
//"SURAT TEGURAN 1",
//"SURAT TEGURAN 1/ SP 1",
//"SURAT TEGURAN I",
//"SURAT TEGURAN II",
//"SURAT TEGURAN II",
//"Teguran",
//"TEGURAN / PERINGATAN I",
//"TEGURAN 1",
//"TEGURAN ABSENSI ",
//"TEGURAN ATAS KESALAHAN SANDI LBBU FORM 11 NOVEMBER 2018",
//"TEGURAN ATAS KESALAHAN SANDI LBBU FORM 11 PERIODE JANUARI 2019",
//"TEGURAN ATAS KETIDAK DISIPLIN",
//"TEGURAN DAN PENINJAUAN KEMBALI MENGENAI KENAIKAN PANGKAT PER 1 JANUARI 1996  ",
//"TEGURAN I",
//"TEGURAN II",
//"TEGURAN III",
//"TEGURAN KE II",
//"TEGURAN KE-2",
//"TEGURAN KERAS ",
//"TEGURAN KETERLAMBATAN LAPORAN TRANSAKSI KEUANGAN TUNAI",
//"TEGURAN KETERLAMBATAN LAPORAN TRANSAKSI KEUANGAN TUNAI (LTKT)",
//"TEGURAN KETERLAMBATAN LTKT",
//"TEGURAN KETERLAMBATAN LTKT CAB TAHUNA",
//"TEGURAN LISAN",
//"TEGURAN LISAN & GANTI RUGI",
//"TEGURAN MINTA PERHATIAN",
//"TEGURAN PEGAWAI",
//"TEGURAN PEMBINAAN",
//"TEGURAN PERTAMA",
//"TEGURAN TERAKHIR",
//"TEGURAN TERTULIS",
//"TEGURAN TERTULIS KE - II",
//"TEGURAN TERTULIS KE - II",
//"TEGURAN/PERINGATAN",
//"TIDAK MENERIMA PEMBAYARAN HAK-HAK SELAIN GAJI",
//"TINDAKAN SEMENTARA NON AKTIF",
//"TIPE",
//"TUNTUTAN GANTI RUGI",
//
//);
//$no = 5;
//$kodeData = 4737;
//foreach ($arrData as $key => $value){
//    $no++;
//    $sql = "INSERT INTO mst_data SET kodeData = '$kodeData', namaData = '$value', kodeCategory = 'S20', statusData = 't', urutanData = '$no';";
//    echo $sql."<br>";
//    $kodeData++;
//}

$arrPegawai = array(
    "CHRISTOPHER D. LUASUNAUNG",
"JELLY M. DAPU",
"JOUBERT R. J. DONDOKAMBEY",
"SUMARNI AKILI",
"MAIKEL Y WOWOR",
"NOLDY MANTIRI",
"MEYDI L. DOLOMPAHA",
"ARGENT W RUMONDOR",
"RIZAL MARAMIS",
"FERDY H SOMBAH",
"KALVIN W. MARINGKA",
"CECILLIA RONDONUWU",
"SUSAN S. SAMPANGAI",
"DANIEL VAN GULLA",
"ERNY NURHASANAH",
"SIREGAR HASUDUNGAN",
"GRUBERT T. UGHUDE",
"DION TANGKUDUNG",
"ERICK M. ZOUGIRA",
"VALINA A. BARA",
"CHRISTINA S MATHEOS",
"NOFIA PATAMANI",
"UUT W. SARMITA",
"RIZKY W BAWON",
"FUTRIA N. GAGHANA",
"GLORIANO R.A. SEHANG",
"DESRIANI B MAKATUMPIAS",
"JIHAN M. RACHMATO",
"NOVANCA P. TOMBUKU",
"RANDY G.C. SUAWA",
"MARCELA V.P. MAILOOR",
"MEYLITA M. MANTIRI",
"AGRIPA T. SITEPU",
"AAN A.J. POHAJOW",
"STIANNY WAROUW",
"DEWI P DUNGGA",
"KARTIKA KAREN EKEL",
"JOANA E WAWOLUMAYA",
"GRACIA M.S. ANIS",
"RUDIE BENHARD PORAYOW",
"CALVIN E. TENGKER",
"YUUKI J.J. ASSA",
"MARWAN AHMAD",
"MARWAN AHMAD",
"MUZAWIR A MURAGA",
"NOER R.S.ABD HAMID",
"OLIVIA M. PINARIA",
"BRENDA DOTULONG",
"GREIVY PANAMBUNAN",
"FIBYE NATHASYA A TURANGAN",
"FACHRURROZI A. POLI",
"ASWIN M. JACOBUS",
"PATRICK S. BAWEMBANG",
"MELKI HALEAN",
"DHEVIE J. SIDEN",
"RIZKIYANTO ABAS",
"FALINCIA F LASUT",
"JORDAN R. KORENGKENG",
"RIYAN A. LOMPOLIU",
"VALENTINE M. MEKEL",
"RAMDAN D. LAHAY",
"NUR SIA TAHA",
"FIQRIANSYAH NANI",
"MARIE M. PONTOH",
"MARLEN L. KONTU",
"HANA S.I.P MAIT",
"CHRISTIAN F. MAJAMPOH",
"PIERE H B ROGAHANG",
"MONAREH REGINA",
"EFRAIM ALOW",
"TIMOTHY B. G. LENGKONG",
"HAIDAR LIGAWA",
"ACHMAD Y. MANOPPO",
"ADISTYA DINNA",
"RELIGA GONIBALA",
"JUNIFER A ROOROH",
"MARCELITA P.M. LIONO",
"ADISSA DAMOPOLII",
"BERRY SENDUK",
"MEGA H. MAKAGANSA",
"MARCELLIA H. SITORUS",
"PRISKILA H.D. GONI",
"JESIKA NGANTUNG",
"RONALD F. LENGKONG",
"CHRISTIN PONGOH",
"CHRISTIAN S. KOBA",
"MARGIANO J. RORING",
"ERYDINI J. MONGKAREN",
"ZEFANYA J. KAWUNG",
"SHARON G PARUNTU",
"LIKE D KATIANDAGHO",
"GISELA AWUY",
"BARTOLOMEUS P. BINILANG",
"SCYVO MARCIANO LASUT",
"ANATASYA E. SABANARI",
"SHEILLA S SUNDA",
"CHIQUITA MASENGI",
"HIBATULLAH F TAKALAMINGAN",
"MELKISEDEK W. SUMAKUL",
"JOY M PEPAH",
"JESTRY MARKUS",
"MEILISA RUMETOR",
"CHRISTOVER T. LANTU",
"ARI DEFI MUSA REGAR",
"JENNIFER R. TUMOBER",
"NATALIA MANOPO",
"RICHARD MUMU",

);

//$arrPegawai = array_unique($arrPegawai);

foreach(array_count_values($arrPegawai) as $val => $c)
    if($c > 1) $dups[] = $val;

    debug($dups);

$no= 0;
foreach ($arrPegawai as $key => $value){
//    db("UPDATE emp SET cat = '532' WHERE name = '$value'");
    $cek = getField("SELECT cat FROM emp t1 join emp_phist t2 on (t1.id = t2.parent_id AND t2.status = '1') WHERE name = '$value' AND t1.status = '535'")."<br>";
    if($cek){
        $no++;
    }
}
echo $no;
    ?>